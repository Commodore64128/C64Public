@c64 @java
@MazeSolving
Feature: Solving more complex mazes

  Describing behaviour for the maze solving algorithms used in the game.

  Each empty tile has a cost of 1 to travel or wait on it.

  This website was used to generate mazes: https://thenerdshow.com/amaze.html?rows=25&cols=40&color=FF0000&bgcolor=000000&sz=10px&blank=+&wall=%3Cem%3E%23%3C%2Fem%3E

  Note that with the open areas version of the maze the max depth is larger because the open areas will get filled up as the search progresses.
  This means more route possibilities as the open areas are explored.
  The iterations also increase as these areas are filled out. However the frame count is shorter because there are fewer twists and turns.

    # Note how this maze has some squares that the enemy is afraid of (more cost) due to enemies being destroyed there
    # So even though it is the shorter route they should prefer to avoid it in the route calculation.
    # This is what the test rest checks for.
  @c64Screen
  Scenario: It has less branches than others in this feature
    Given a maze:
    """
    ########################################
    #       #          @#   #             ##
    # ##### ######### # # # # ########### ##
    # #     #     #   #   #   #     #     ##
    # ##### # ### # ### ####### # ### ######
    # #   #   #2#   #   #     # #     #   ##
    # # # #####3##### # # # ### ####### # ##
    #   # #   #3321   # # # #   #       # ##
    # ### # ###3####### # ### ### ##### ####
    # #   #             #   #   # #   #   ##
    ### ### ############### ### # ### ### ##
    # #   #                   # #     #   ##
    # ### ##### # # # ######### ####### # ##
    #   #   #   #   # #       #       # # ##
    ### ### # ####### # ##### ####### # ####
    # # #   #       #   # #   #     # #   ##
    # # # ### ##### # ### # ### ### # ### ##
    #   # # # #   # # #   #   #   # #     ##
    # ### # # ### # # # # ### ### # ##### ##
    #     #       #    X#   #     #       ##
    ########################################
	"""
    And a starting point @ and a target point X
    When the unit plots a route
    Then the cheapest route is DDDDDDDDLLLLLLLLLLLLDDRRRRRRRRRRDDDDDDDDRR
    And the iterations are 211
    And the frame count is 41
    And the max depth is 10


  @tooLarge
  Scenario: A more complex maze 1
    Given a maze:
    """
    #################################################################################
    #       #         #           #     #    @#           #           #         #   #
    ### ### ### ##### # ########### # # # # # # ######### # ####### # # ####### ### #
    #   # # #   #       #           # # # # #   #   #   # #   #   # # # #     #     #
    # ### # # ########### ####### ### # ### ##### # # # # # ### # # # # # ### # #####
    # #     #         #   #     # #   #     #     # # # # # #   #   #   #   #   #   #
    # # ##### ####### # ### ### ### # ####### ##### # # # ### ############# ##### # #
    # #   #         #     # # #   # # #       #   # # # #   #             #   #   # #
    # ### ################# # ### # ### ####### # # # # ### ######### ### ##### ### #
    # # #         #   #     #       #   #       # # # #   #     #   #   #         # #
    # # ######### # # # ### ######### ### ### ##### ### ####### # # ### ########### #
    # #   #   #     #   #   #   #     #   # # #     #   #     #   #   # #       #   #
    # # # # # # ######### ### # # ##### ### # # ##### ### ### ####### ### ##### # # #
    # # # # #     #   #   #   #   #     # #   #   #       #       #   #   #   #   # #
    # # # # ####### # ##### ####### ##### # ##### ### ##### ##### # ### ### # ##### #
    # # # # #   #   #     # #   #       #     # #   # #   #   #   #     #   #       #
    # # ### # ### ####### # # ### ##### ##### # ### # # # ### ########### ###########
    # #   # # #   #     #   #     #   #   # #   #   # # #   #       #   #   #       #
    # # # # # # ### ### ##### ##### # ### # ### # ### # ######### ### # ### ##### # #
    # # # # # #     # # #   #   #   #   # #     # #     #       #     #   #   #   # #
    # # # # # ####### # # ##### ### ##### ####### ####### ##### ####### # ### # ### #
    # # #     #   #     #     # #   #     #     #       # #   #     #   #   # # #   #
    # ####### # # # ##### # ### # # # ##### ### ####### # # # ##### # ### ### # # ###
    # #   #     # #     # #   #   # #       # #     # # # # #   #   #   # #     #   #
    # # # ####### ##### # ### ##### ####### # ### # # # # # ##### ##### ### #########
    # # #   #   # #     #   #   #   #     #     # #   #     #     #   #     #       #
    # # ### # # # # ####### # ### ### ### # ##### ### ####### ##### # # ##### #######
    # # # # # # # #     # # # #   # # #   # #     # # # #     #     # # # #   #     #
    # # # # ### # ##### # # # # ### # # ##### ##### # # # ##### ##### # # # ### ### #
    # #   #   #   #     #   #       # #     # #     #   #       #   # #   #   # #   #
    # ### ### ### # ############# ### ##### # ### ##### ######### ### ### ### # ### #
    #       #   # # #           # #   #   # #   #     # #   #     #   # #   # #   # #
    ######### # # # ### ####### # # ### # # ### # # # # # # # ##### ### ### # # # ###
    #       # # # #     #     # # # #   # # #   # # # #   # # #   # #   #   # # #   #
    # ##### ### # ####### ##### ### # ### # # ### # ####### # # # # # ### ### # ### #
    # #     #   #     #       #     # #   #   #   #   #     #   # # #     #   # #   #
    # # ##### ####### ####### ####### ######### ##### # ######### # ####### ### # # #
    # #   #   #     #       #   #       #   #   #   # #   #       #       # #   # # #
    # ### # ##### # ####### # ### ##### # # # ### # # ### # ############# # # ### ###
    # #     #   # #   #   # #   # # #   # # # # # # #   # #             # # #   #   #
    # ####### # # # ### # # # # # # # ### # # # # # # # # ### ##### ##### # ####### #
    #     #   #   # #   #   # # # # #     #   #   # # # #   #     #   #   #         #
    # ### # ######### ######### # # ############### # ##### ##### ### # ########### #
    #   # #     #     #         # #                 #     # #       # #   #   #     #
    ### # ##### # ####### ####### ### ############# ##### # # ####### ### # # # #####
    #   #     #       #   #       #   # #           #   # # # #     #   #   # #     #
    # ####### ####### # # # ####### ### # ########### # # # ### ### ### ##### ##### #
    #       #   #   #   # #   #   # #     #   #     # # # #     # #   #   # # #   # #
    ####### ### # # ######### # # # # ##### # ### # # # # ####### ### # # # # # # # #
    #         #   #             #   #       #X    #   # #               #   #   #   #
    #################################################################################
	"""
    And a starting point @ and a target point X
    When the unit plots a route
    Then the cheapest route is LLDDDDLLLLUUUULLDDDDLLDDDDLLUULLUULLLLDDDDLLLLDDLLUULLDDLLUULLLLLLLLUULLUURRRRUUUULLLLDDLLDDDDDDDDDDDDDDDDDDDDDDDDDDDDRRRRUULLUUUUUURRDDRRDDDDRRDDRRDDDDLLDDLLDDLLUULLUURRRRUULLLLLLDDDDDDDDRRRRDDDDRRRRDDRRDDRRUURRDDRRRRRRRRRRRRUURRDDRRUUUURRUURRRRRRRRRRRRRRDDLLLLLLLLLLDDLLLLDDRRRRRRUURRDD
    And the iterations are 1129
    And the frame count is 287
    And the max depth is 11




  @tooLarge
  Scenario: A more complex maze 1 with open areas
    Given a maze:
    """
    #################################################################################
    #       #         #           #     #    @#           #           #         #   #
    ### ### ### ##### # ########### # # # # # # ######### # ####### # # ####### ### #
    #   # # #   #       #           # # # # #   #   #   # #   #   # # # #     #     #
    # ### # # ########### ####### ### # ### ##### # # # # # ### # # # # # ### # #####
    # #     #         #   #     # #   #     #     # # # # # #   #   #   #   #   #   #
    # # ##### ####### # ### ### ### # ####### ##### # # # ### ############# ##### # #
    # #   #         #     # # #   # # #       #   # # # #   #             #   #   # #
    # ### ################# # ### # ### ####### # # # # ### ######### ### ##### ### #
    # # #         #   #     #       #   #       # # # #   #     #   #   #         # #
    # # ######### # # # ### #                           ####### # # ### ########### #
    # #   #   #     #   #   #                           #     #   #   # #       #   #
    # # # # # # ######### ###                         ### ### ####### ### ##### # # #
    # # # # #     #   #   #                               #       #   #   #   #   # #
    # # # # ####### # ##### ####### ##### # ##### ### ##### ##### # ### ### # ##### #
    # # # # #   #   #     # #   #       #     # #   # #   #   #   #     #   #       #
    # # ### # ### ####### # # ### ##### ##### # ### # # # ### ########### ###########
    # #   # # #   #     #   #     #   #   # #   #   # # #   #       #   #   #       #
    # # # # # # ### ### ##### ##### # ### # ### # ### # ######### ### # ### ##### # #
    # # # # # #     # # #   #   #   #   # #     # #     #       #     #   #   #   # #
    # # # # # ####### # # ##### ### ##### ####### ##              ##### # ### # ### #
    # # #     #   #     #     # #   #     #     #                   #   #   # # #   #
    # ####### # # # ##### # ### # # # ##### ### ####              # # ### ### # # ###
    # #   #     # #     # #   #   # #       # #                     #   # #     #   #
    # # # ####### ##### # ### ##### ####### # ### # # # # # ##### ##### ### #########
    # # #   #   # #     #   #   #   #     #     # #   #     #     #   #     #       #
    # # ### # # # # ####### # ### ### ### # ##### ### ####### ##### # # ##### #######
    # # # # # # # #     # # # #   # # #   # #     # # # #     #     # # # #   #     #
    # # # # ### # ###                         ##### # # # ##### ##### # # # ### ### #
    # #   #   #   #                           #     #   #       #   # #   #   # #   #
    # ### ### ### # #                         ### ##### ######### ### ### ### # ### #
    #       #   # # #                           #     # #   #     #   # #   # #   # #
    ######### # # # #                         # # # # # # # # ##### ### ### # # # ###
    #       # # # #     #     # # # #   # # #   # # # #   # # #   # #   #   # # #   #
    # ##### ### # ####### ##### ### # ### # # ### # ####### # # # # # ### ### # ### #
    # #     #   #     #       #     # #   #   #   #   #     #   # # #     #   # #   #
    # # ##### ####### ####### ####### ######### ##### # ######### # ####### ### # # #
    # #   #   #     #       #   #       #   #   #   # #   #       #       # #   # # #
    # ### # ##### # ####### # ### ###                       ############# # # ### ###
    # #     #   # #   #   # #   # # #                                   # # #   #   #
    # ####### # # # ### # # # # # # #                       # ##### ##### # ####### #
    #     #   #   # #   #   # # # # #                       #     #   #   #         #
    # ### # ######### ######### # # ############### # ##### ##### ### # ########### #
    #   # #     #     #         # #                 #     # #       # #   #   #     #
    ### # ##### # ####### ####### ### ############# ##### # # ####### ### # # # #####
    #   #     #       #   #       #   # #           #   # # # #     #   #   # #     #
    # ####### ####### # # # ####### ### # ########### # # # ### ### ### ##### ##### #
    #       #   #   #   # #   #   # #     #   #     # # # #     # #   #   # # #   # #
    ####### ### # # ######### # # # # ##### # ### # # # # ####### ### # # # # # # # #
    #         #   #             #   #       #X    #   # #               #   #   #   #
    #################################################################################
	"""
    And a starting point @ and a target point X
    When the unit plots a route
    Then the cheapest route is LLDDDDLLLLUUUULLDDDDLLDDDDDRRRRRRRRRRRRRRRRRRDDDDDDDDDDDDDDDDDDDRRDDDDRRUURRDDDDLLLLDDDLLLLDDDDDDDLLLLLLLLLLDDLLLLDDRRRRRRUURRDD
    And the iterations are 1863
    And the frame count is 127
    And the max depth is 37




  @tooLarge @c64Screen
  Scenario: A more complex maze 2
    Given a maze:
    """
    ########################################
    #       #          @#   #             ##
    # ##### ######### # # # # ########### ##
    # #     #     #   #   #   #     #     ##
    # ##### # ### # ########### # ### ######
    # #   #   # #   #         # #     #   ##
    # # # ##### ##### ### # ### ####### # ##
    #   # #   #       # # # #   #       # ##
    # ### # ### ####### # ### ### ##### ####
    # #   #             #   #   # #   #   ##
    ### ### ############### ### # ### ### ##
    # #   #   #   #           # #     #   ##
    # ### ##### # # # ######### ####### # ##
    #   #   #   #   # #       #       # # ##
    ### ### # ######### ##### ####### # ####
    # # #   #       #   # #   #     # #   ##
    # # # ### ##### # ### # ### ### # ### ##
    #   # # # #   # # #   #   #   # #     ##
    # ### # # ### # # # # ### ### # ##### ##
    #     #       #    X#   #     #       ##
    ########################################
	"""
    And a starting point @ and a target point X
    When the unit plots a route
    Then the cheapest route is DDRRUURRDDRRUURRRRRRRRRRRRDDLLLLDDLLLLUULLDDDDLLDDRRDDDDRRRRRRDDDDRRRRDDLLLLLLUUUULLLLDDRRDDLLLLUULLUURRUULLLLLLDDLLDDDDRR
    And the iterations are 262
    And the frame count is 121
    And the max depth is 4




  @tooLarge @c64Screen
  Scenario: A more complex maze 2 with open areas
    Given a maze:
    """
    ########################################
    #       #          @#   #             ##
    # ##### ######### # # #         ##### ##
    # #     #     #   #   #         #     ##
    # ##### # ### # #######         # ######
    # #   #   # #   #     #         # #   ##
    # # # ##### ##### ### # ### ####### # ##
    #   # #   #       # # # #   #       # ##
    # ### ##### ####### # ### ### ##### ####
    # #   #             #   #   # #   #   ##
    ### ###             ### ### # ### ### ##
    # #   #####   #######     # #     #   ##
    # ### ##### # # # ######### ####### # ##
    #   #   #   #   # #       #       # # ##
    ### ### # ######### ##### ####### # ####
    # # #           #   # #   #     # #   ##
    # # #         # # ### # ### ### # ### ##
    #   #         # # #   #   #   # #     ##
    # ### # # ### # # # # ### ### # ##### ##
    #     #       #    X#   #     #       ##
    ########################################
	"""
    And a starting point @ and a target point X
    When the unit plots a route
    Then the cheapest route is LLDDLLDDLLUULLLLDDLLUUUULLLLLLDDDDDDRRUURRDDDDLLDDRRDDRRDDRRRRRRRRDDDDRRRR
    And the iterations are 328
    And the frame count is 73
    And the max depth is 13
